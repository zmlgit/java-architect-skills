{
  "name": "spring-reviewer",
  "version": "1.0.0",
  "displayName": "Spring Reviewer",
  "description": "Advanced SpringBoot code auditor combining static analysis (PMD) with LLM semantic understanding to detect critical bugs, Spring AOP proxy failures, and architectural anti-patterns",
  "author": "zmlio",
  "license": "MIT",
  "category": "code-analysis",
  "tags": [
    "spring",
    "spring-boot",
    "java",
    "code-quality",
    "static-analysis",
    "aop",
    "security",
    "best-practices",
    "pmd",
    "code-review"
  ],
  "icon": "üîç",
  "repository": {
    "type": "git",
    "url": "https://github.com/zmlio/spring-reviewer"
  },
  "keywords": [
    "spring framework",
    "spring aop",
    "transactional",
    "async",
    "cacheable",
    "code audit",
    "bug detection",
    "npe detection",
    "proxy patterns",
    "dependency injection"
  ],
  "capabilities": {
    "staticAnalysis": true,
    "semanticAnalysis": true,
    "autoFix": false,
    "batchProcessing": true,
    "configurable": true
  },
  "requirements": {
    "runtime": {
      "python": ">=3.6",
      "bash": ">=4.0",
      "java": ">=8"
    },
    "tools": {
      "pmd": {
        "version": "7.0.0",
        "autoInstall": true,
        "source": "https://github.com/pmd/pmd/releases"
      }
    },
    "dependencies": [
      "curl or wget",
      "unzip"
    ]
  },
  "configuration": {
    "rulesets": {
      "default": "config/critical-rules.xml",
      "spring": "config/spring-aop-rules.xml",
      "custom": "config/custom-rules.xml"
    },
    "outputFormat": {
      "default": "json",
      "supported": ["json", "text", "xml", "html"]
    },
    "severity": {
      "critical": 1,
      "warning": 2,
      "suggestion": 3
    }
  },
  "commands": {
    "analyze": {
      "description": "Analyze Java/Spring code for bugs and anti-patterns",
      "usage": "python3 scripts/pmd-bootstrap.py <target-path> [rules-xml]",
      "examples": [
        "python3 scripts/pmd-bootstrap.py src/main/java/",
        "python3 scripts/pmd-bootstrap.py MyService.java",
        "bash scripts/pmd-bootstrap.sh src/ config/spring-aop-rules.xml"
      ],
      "parameters": {
        "target-path": {
          "type": "string",
          "required": true,
          "description": "File or directory to analyze"
        },
        "rules-xml": {
          "type": "string",
          "required": false,
          "description": "Custom PMD ruleset XML file",
          "default": "config/critical-rules.xml"
        }
      }
    },
    "install": {
      "description": "Bootstrap PMD installation",
      "usage": "python3 scripts/pmd-bootstrap.py",
      "examples": [
        "python3 scripts/pmd-bootstrap.py",
        "bash scripts/pmd-bootstrap.sh"
      ]
    }
  },
  "detectionRules": {
    "criticalBugs": {
      "category": "üõë CRITICAL",
      "priority": 1,
      "rules": [
        "NullAssignment",
        "AvoidCatchingNPE",
        "BrokenNullCheck",
        "MisplacedNullCheck",
        "OverrideBothEqualsAndHashcode",
        "NonThreadSafeSingleton",
        "UnsynchronizedStaticFormatter",
        "DoubleCheckedLocking",
        "DoNotTerminateVM",
        "HardCodedCryptoKey"
      ],
      "description": "Fatal bugs that can cause production failures"
    },
    "aopProxyIssues": {
      "category": "‚ö†Ô∏è PROXY WARNING",
      "priority": 1,
      "rules": [
        "AvoidTransactionalOnPrivateMethod",
        "AvoidAsyncOnPrivateMethod",
        "AvoidCacheableOnPrivateMethod",
        "AvoidTransactionalOnFinalMethod",
        "SelfInvocationDetection"
      ],
      "description": "Spring AOP proxy failures that silently break functionality",
      "annotations": [
        "@Transactional",
        "@Async",
        "@Cacheable",
        "@CachePut",
        "@CacheEvict"
      ]
    },
    "bestPractices": {
      "category": "üí° BEST PRACTICE",
      "priority": 3,
      "rules": [
        "AvoidFieldInjection",
        "AvoidHardcodedConfigValues",
        "AvoidPermitAllWithoutRateLimiting",
        "AvoidFindAllWithoutPagination",
        "UseCollectionIsEmpty",
        "PreserveStackTrace"
      ],
      "description": "Architectural improvements and Spring conventions"
    }
  },
  "output": {
    "format": {
      "type": "structured",
      "schema": {
        "file": "string",
        "line": "number",
        "endLine": "number",
        "rule": "string",
        "ruleSet": "string",
        "priority": "number",
        "description": "string",
        "externalInfoUrl": "string"
      }
    },
    "reports": {
      "json": "pmd-results.json",
      "summary": "console output with colored indicators"
    }
  },
  "integrations": {
    "ide": [
      "vscode",
      "intellij",
      "eclipse"
    ],
    "ci_cd": [
      "github-actions",
      "gitlab-ci",
      "jenkins",
      "circle-ci"
    ],
    "vcs": [
      "git"
    ]
  },
  "support": {
    "documentation": "README.md",
    "issues": "https://github.com/zmlio/spring-reviewer/issues",
    "discussions": "https://github.com/zmlio/spring-reviewer/discussions",
    "wiki": "https://github.com/zmlio/spring-reviewer/wiki"
  },
  "changelog": {
    "1.0.0": {
      "date": "2026-01-30",
      "changes": [
        "Initial release",
        "PMD 7.0.0 integration with auto-bootstrap",
        "56 critical rules for bug detection",
        "8 custom Spring AOP rules",
        "Self-invocation detection",
        "Access modifier validation",
        "Constructor lifecycle checks",
        "Field vs constructor injection enforcement",
        "Configuration externalization suggestions",
        "Python and Bash bootstrap scripts",
        "JSON structured output",
        "Colored console reporting"
      ]
    }
  },
  "roadmap": {
    "1.1.0": [
      "Auto-fix capabilities for common issues",
      "Interactive mode for rule selection",
      "Custom report templates",
      "Integration with SonarQube"
    ],
    "1.2.0": [
      "Real-time IDE integration",
      "Performance optimization analysis",
      "Security vulnerability scanning (OWASP)",
      "Batch processing for large codebases"
    ],
    "2.0.0": [
      "Machine learning-based pattern detection",
      "Architecture visualization",
      "Multi-module Spring project support",
      "Cloud-native patterns analysis"
    ]
  },
  "examples": {
    "selfInvocation": {
      "description": "Detect @Transactional self-invocation",
      "problematic": "@Service\npublic class OrderService {\n    public void createOrder() {\n        processPayment(); // Bypasses proxy!\n    }\n    \n    @Transactional\n    private void processPayment() { ... }\n}",
      "fixed": "@Service\npublic class OrderService {\n    @Autowired\n    private PaymentService paymentService;\n    \n    public void createOrder() {\n        paymentService.processPayment();\n    }\n}\n\n@Service\npublic class PaymentService {\n    @Transactional\n    public void processPayment() { ... }\n}"
    },
    "fieldInjection": {
      "description": "Enforce constructor injection",
      "problematic": "@Service\npublic class UserService {\n    @Autowired\n    private EmailService emailService;\n}",
      "fixed": "@Service\npublic class UserService {\n    private final EmailService emailService;\n    \n    public UserService(EmailService emailService) {\n        this.emailService = emailService;\n    }\n}"
    },
    "hardcodedConfig": {
      "description": "Externalize configuration",
      "problematic": "@Service\npublic class ApiClient {\n    private static final String API_URL = \"https://api.example.com\";\n    private static final int TIMEOUT = 5000;\n}",
      "fixed": "@ConfigurationProperties(prefix = \"app.api\")\n@Component\npublic class ApiConfig {\n    private String url;\n    private int timeout;\n    // getters/setters\n}\n\n# application.yml\napp:\n  api:\n    url: https://api.example.com\n    timeout: 5000"
    }
  },
  "testing": {
    "testSuite": "test/",
    "coverage": {
      "target": 80,
      "current": 0
    },
    "fixtures": [
      "test/BadService.java - Multiple violations",
      "test/GoodService.java - Best practices example",
      "test/ProxyFailure.java - AOP issues"
    ]
  },
  "performance": {
    "averageAnalysisTime": {
      "smallFile": "< 1s",
      "largeFile": "< 5s",
      "mediumProject": "< 30s",
      "largeProject": "< 5min"
    },
    "memoryUsage": {
      "typical": "256MB",
      "maximum": "1GB"
    }
  },
  "metrics": {
    "rulesCount": {
      "critical": 56,
      "spring": 8,
      "total": 64
    },
    "supportedAnnotations": [
      "@Transactional",
      "@Async",
      "@Cacheable",
      "@CachePut",
      "@CacheEvict",
      "@Autowired",
      "@Inject",
      "@Resource",
      "@ConfigurationProperties",
      "@Value",
      "@RestControllerAdvice"
    ]
  }
}
